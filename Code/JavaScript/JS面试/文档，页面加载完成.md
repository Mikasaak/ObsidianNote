---
description: 
pubDate:
tags: 
title: 判断页面加载完成
date_created: 2024-05-8日 星期三 , 02:54:27 下午
date_modified: 2024-05-8日 星期三 , 03:02:11 下午
---
# 判断页面加载完成

要使用原生JavaScript判断页面是否加载完成，你可以使用`DOMContentLoaded`事件或`load`事件。这两个事件可以告诉你何时DOM内容已经加载完毕，或者当整个页面（包括样式表、图像和子框架）已完全加载时。以下是使用这两个事件的示例：

```javascript
// 使用DOMContentLoaded事件
document.addEventListener("DOMContentLoaded", function(event) {
    console.log("DOM已加载完成");
    // 在此处可以执行需要在DOM加载完成后执行的操作
});

// 使用load事件
window.addEventListener("load", function(event) {
    console.log("整个页面已加载完成");
    // 在此处可以执行需要在整个页面加载完成后执行的操作
});
```

在这两种情况下，当事件触发时，你可以执行需要在页面加载完成后进行的任何操作。


除了`DOMContentLoaded`和`load`事件之外，你还可以使用其他方法来检测页面加载状态。以下是一些常见的方法：

1. **document.readyState属性：** `document.readyState`属性提供了关于文档加载状态的信息。它有三种可能的值：
   - `"loading"`：文档仍在加载中。
   - `"interactive"`：文档已完成加载并且DOM已经可用，但是仍在加载外部资源，比如图片和样式表。
   - `"complete"`：文档和所有外部资源都已加载完成。

   你可以使用这个属性来检测文档的加载状态：

   ```javascript
   if (document.readyState === "complete") {
       console.log("整个页面已加载完成");
   }
   ```

2. **window.onload属性：** 你还可以直接设置`window.onload`属性，将其指定为在整个页面加载完成后要执行的函数：

   ```javascript
   window.onload = function() {
       console.log("整个页面已加载完成");
       // 在此处可以执行需要在整个页面加载完成后执行的操作
   };
   ```

这些方法都可以让你在页面加载的不同阶段执行相应的操作，具体取决于你的需求。

# 判断文档加载完成

要判断文档是否加载完成，可以使用`document.readyState`属性或`DOMContentLoaded`事件。这两种方法都可以告诉你文档加载的状态。以下是使用这两种方法的示例：

1. **使用document.readyState属性：**

```javascript
if (document.readyState === "complete") {
    console.log("文档已加载完成");
} else {
    console.log("文档仍在加载中");
}
```

2. **使用DOMContentLoaded事件：**

```javascript
document.addEventListener("DOMContentLoaded", function(event) {
    console.log("文档已加载完成");
    // 在此处可以执行需要在文档加载完成后执行的操作
});
```

这两种方法都可以让你在文档加载完成后执行相应的操作。